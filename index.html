<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <link rel="icon" href="favicon.svg">
  <title>Bookmarklets</title>
  <style>
    html, body { 
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      font-family: 'Courier New', Courier, monospace;
      background-color: #eee;
    }
    @media (prefers-color-scheme: dark) {
      body { background-color: #000; color: #fff;}
    }
    main {
      flex: 1 0 auto;
      max-width: 70ch;
      padding: 2ch;
      margin: auto;
    }
  </style>
</head>
<body>
  <main>
    <h1>Bookmarklets</h1>
    <ul>
      <li>
        <a href="javascript:(()=>{document.title=prompt('retitle tab to:',document.querySelector('h1')?.textContent||document.title)??document.title})()">
          Retitle tab
        </a>
        
      </li>
      <li>
        <a href="javascript:(()=>{let o=document.title,n=new Blob([`[Desktop Entry]\nComment=${o}\nTerminal=false\nName=${o}\nExec=xdg-open ${location.host}\nType=Application\nIcon=applications-internet\nNoDisplay=false`],{type:'text/plain'}),[e,t]=['a','div'].map(l=>document.createElement(l));e.download=`${o.replace(/[^\w]/g,'_')}.desktop`;e.href=URL.createObjectURL(n);e.textContent=`download ${e.download}`;t.style='position: absolute; top: 0; border: 1px solid black;';t.appendChild(e);t.onclick=()=>document.body.removeChild(t);document.body.appendChild(t);})();">
          Create ubuntu desktop icon for site
        </a>
      </li>
      <li>
        <a href="javascript:(()=>{let id=getSelection()?.anchorNode.parentElement.closest("[id]")?.id; if (!id) return; location.hash="#"+id})()">
          Navigate to nearest id'd element relative to selected text
        </a>
      </li>
    </ul>
  </main>
</body>
